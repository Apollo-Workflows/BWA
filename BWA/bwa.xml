<Workflow name="BWA"><Array as="dataIns"><DataIns name="referenceGenomeArn" type="string" source="referenceGenomeArn"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="r1Arn" type="string" source="r1Arn"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="r2Arn" type="string" source="r2Arn"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="numSplits" type="number" source="numSplits"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="bamPath" type="string" source="samtoolsSortViewIndex/bamPath"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="bambaiPath" type="string" source="samtoolsSortViewIndex/bambaiPath"><Array as="properties"/><Array as="constraints"/></DataOuts></Array><Array as="body"><Cell id="0"/><Cell id="1" parent="0"/><Cell id="2" value="Start" style="start" type="start" vertex="1" parent="1"><mxGeometry x="316" y="64" width="40" height="40" as="geometry"/></Cell><Cell id="3" style="fn" type="AtomicFunction" vertex="1" parent="1"><AtomicFunction name="bwa-mask" type="collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:us-east-2:735406098573:function:bwa-mask"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="referenceGenomeArn" type="string" source="BWA/referenceGenomeArn"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="numSplits" type="number" source="BWA/numSplits"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="splitArns" type="collection"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="248" y="152" width="88" height="32" as="geometry"/></Cell><Cell id="4" style="sourcePort=out;targetPort=in;" edge="1" parent="1" source="2" target="3"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="5" value="End" style="end" type="end" vertex="1" parent="1"><mxGeometry x="260" y="712" width="40" height="40" as="geometry"/></Cell><Cell id="7" style="parallelFor" type="ParallelFor" vertex="1" parent="1"><ParallelFor name="ParallelFor" as="value"><Array as="properties"/><Array as="constraints"/><Array as="dataIns"><DataIns name="splitArn" type="string" source="bwa-mask/splitArns"><Array as="properties"/><Array as="constraints"><Object name="distribution" value="BLOCK(1)"/></Array></DataIns></Array><Array as="dataOuts"><DataOuts name="samPaths" type="collection" source="bwa-sampe/samPath"><Array as="properties"/><Array as="constraints"/></DataOuts></Array><LoopCounter type="number" from="0" to="BWA/numSplits" step="1" as="loopCounter"/></ParallelFor><mxGeometry x="172" y="240" width="224" height="312" as="geometry"/></Cell><Cell id="9" style="fn" type="AtomicFunction" vertex="1" parent="7"><AtomicFunction name="bwa-index" type="String" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:us-east-2:735406098573:function:bwa-index"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="s3WorkingDir" type="string" source="createBwaWorkingDir/s3WorkingDir"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="s3WorkingDir" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="60" y="88" width="88" height="32" as="geometry"/></Cell><Cell id="15" style="fn" type="AtomicFunction" vertex="1" parent="7"><AtomicFunction name="createBwaWorkingDir" type="collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:us-east-2:735406098573:function:createBwaWorkingDir"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="splitArn" type="string" source="ParallelFor/splitArn"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="s3WorkingDir" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="68" y="28" width="88" height="32" as="geometry"/></Cell><Cell id="16" style="sourcePort=out;targetPort=in;" edge="1" parent="7" source="15" target="9"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="17" style="fn" type="AtomicFunction" vertex="1" parent="7"><AtomicFunction name="bwa-aln" type="Collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:us-east-2:735406098573:function:bwa-aln"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="s3WorkingDir" type="string" source="bwa-index/s3WorkingDir"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="s3WorkingDir" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="60" y="156" width="88" height="32" as="geometry"/></Cell><Cell id="18" style="sourcePort=out;targetPort=in;" edge="1" parent="7" source="9" target="17"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="19" style="fn" type="AtomicFunction" vertex="1" parent="7"><AtomicFunction name="bwa-sampe" type="collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:us-east-2:735406098573:function:bwa-sampe"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="s3WorkingDir" type="string" source="bwa-aln/s3WorkingDir"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="samPath" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="56" y="212" width="88" height="32" as="geometry"/></Cell><Cell id="20" style="sourcePort=out;targetPort=in;" edge="1" parent="7" source="17" target="19"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="8" style="sourcePort=out;targetPort=in;" edge="1" parent="1" source="3" target="7"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="29" style="fn" type="AtomicFunction" vertex="1" parent="1"><AtomicFunction name="mergeSams" type="collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:us-east-2:735406098573:function:mergeSams"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="samPaths" type="collection" source="ParallelFor/samPaths"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="mergedSamPath" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="248" y="588" width="88" height="32" as="geometry"/></Cell><Cell id="30" style="sourcePort=out;targetPort=in;" edge="1" parent="1" source="7" target="29"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="32" style="fn" type="AtomicFunction" vertex="1" parent="1"><AtomicFunction name="samtoolsSortViewIndex" type="collection" as="value"><Array as="properties"><Object name="resource" value="arn:aws:lambda:us-east-2:735406098573:function:samtoolsSortViewIndex"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="mergedSamPath" type="string" source="mergeSams/mergedSamPath"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="bamPath" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="bambaiPath" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="152" y="652" width="88" height="32" as="geometry"/></Cell><Cell id="33" style="sourcePort=out;targetPort=in;" edge="1" parent="1" source="29" target="32"><mxGeometry relative="1" as="geometry"/></Cell><Cell id="34" style="sourcePort=out;targetPort=in;" edge="1" parent="1" source="32" target="5"><mxGeometry relative="1" as="geometry"/></Cell></Array></Workflow>